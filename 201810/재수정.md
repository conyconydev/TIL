# 대호 수정방식

```swift
/*
 1. 딕셔너리에 단위 , 값 추가
 2. 값 입력 -> 한줄
 3. 값 분할 -> 숫자 1단위 2단위
 4. 1단위에서 얻은 값으로 단위 변환 함수 정의
 5. switch 로 분기처리
 6. 비슷한 동작을 하는 함수 묶어서 처리
 7. 값 출력

 */
```

```swift
//기존

var userLine = readLine()
let unit:[String : Double] = ["cm" : 100 , "m" : 100 ]

// 한줄 입력 받으면 , 유저가 바꾸고싶은 데이터랑 , 바꾸고 싶은 단위를 적는다.
// userValue 는 저걸 나누기 위해 사용된다.
let userValue = userLine?.split(separator:" ").map{ String($0) }
//print(userValue![0])
//print(userValue![1])


//func dicSort() {
//    let order = unit.sorted(by: <)
//    print(order)
//}

func cutValue(_ userValue: String , _ unit: String) ->(number : String ,charUnit : String) {
    if userValue.hasSuffix(unit) {
        let unitStr = unit
        let i = unitStr.index(unitStr.startIndex, offsetBy: 0)
        
        let index = userValue.index(of:unitStr[i]) ?? userValue.endIndex
        let number = String(userValue[..<index])
        let charUnit = String(userValue[index...])

        return (number , charUnit)
    } else {
        return ("nil","nil")
    }
}
//            사용자가 변환할 숫자 데이터 , 사용자가 변환하기전 단위 , 사용자가 바꿀 단위
func changeUnit(_ number : String , _ nuit : String , _ newunit : String ) -> Double {
    let num = Double(number)
    
    switch newunit {
    case "cm":
        return Double(num! / 100)
    case "m":
        return Double(num! * 100)
    default:
        return 0
    }
    
}

// userValue 는 유저가 바꾸고 싶은 데이터 , key는 앞에 단위가 뭔지 쪼개기 위해
for (key,_) in unit {
    print(userValue![0])
    print(key)
    print("\n")
    let userData = cutValue(userValue![0],key)
    print("\(userData.number) == \(userData.charUnit)---- \(userValue![1])")
    let result = changeUnit(userData.number , userData.charUnit , userValue![1])
    print("\(result)m")
    
}



```

```swift
//1차 수정 업데이트
//
//  main.swift
//  newCal
//
//  Created by Elena on 04/10/2018.
//  Copyright © 2018 elena. All rights reserved.
//

import Foundation


var userLine = readLine()
//var userLine = "120cm m"
let unit:[String : Double] = ["cm" : 100 , "m" : 100 ]


// 값 분할
// 입력받은것중 앞에 숫자 , 사용자단위 , 변환 단위 쪼개기
func cutValue(_ userLine: String ) ->(number : String ,userUnit : String, conversionUnit : String) {
    // userValue는 userLine 입력받은게 123cm m 이니깐 공백으로 두개를 분리하기 위해.
    let userValue = userLine.split(separator:" ").map{ String($0) }
    
    //사용자의 숫자와단위를 str 변수에 저장해서 반복문을 돌리기 위해 변수에 저장
    let str = userValue[0]
    //앞에서부터 숫자가 몇개인지 판별하기 위해
    var num = 0
    // 숫자랑, 단위 저장할 변수 선언
    var number : String = ""
    var userUnit : String = ""
    
    // 아스키코드 값으로 숫자를 판별할려고 반복문 설치
    for index in str.utf16 {
        if index >= 48 , index <= 57 {
            num += 1
        }
    }
    
    // 문자 하나씩 접근해서 숫자랑 문자랑 나누려고 사용
    for i in str.indices {
        if num > 0 {
            number.append(str[i])
            num -= 1
        }else {
            userUnit.append(str[i])
        }
    }
    
    return (number,userUnit,userValue[1])
}

// 단위 변환 함수 정의
//            사용자가 변환할 숫자 데이터 , 사용자가 변환하기전 단위 , 사용자가 바꿀 단위
func changeUnit(_ number : String , _ userUnit : String , _ conversionUnit : String ) -> Double {
    
    var result : Double
    
    // 이 아래 부분도 함수로 빼서 select 라는 함수를 만들면 될것 같음.
    if userUnit == "cm" {
        switch conversionUnit {
        case "cm":
            // 이부분 질문! 이렇게 두줄일때는 return result 가 되는데
            // return result = Double(number)! 이거는 왜 안될까??????
            result = Double(number)!
            return result
        case "m":
            // 사용자가 변환하기 전 단위를 검사하고 , 숫자랑 바꿀 단위값만 넘기면 되자나? , 곱하기냐 나누기냐 던지자.
            result = checkSumValue(Double(number)! , unit[conversionUnit]! , 2)
            print(result)
            return result
        default:
            return 9
        }
    }else if userUnit == "m" {
        switch conversionUnit {
        case "cm":
            // 사용자가 변환하기 전 단위를 검사하고 , 숫자랑 바꿀 단위값만 넘기면 되자나? , 곱하기냐 나누기냐 던지자.
            result = checkSumValue(Double(number)! , unit[conversionUnit]! , 1)
            return result
        case "m":
            result = Double(number)!
            return result
        default:
            return 9
        }
    }else {
        return 9
    }
    return 9
    
}
func selectUnit(_ userUnit: String, _ conversionUnit: String) {
    
}
// 값을 곱하고 나누기할꺼인데.... 여기서 단위까지 넘겨주기로 한다. 매개변수로....
// 곱하기는 1번 나누기는 2번으로 하자.
func checkSumValue(_ number : Double , _ conversionUnit : Double ,_ calculateFlag : Int) -> Double{
    print(number , conversionUnit)
    if calculateFlag == 1 {
        // 곱하기
        return number * conversionUnit
    }else if calculateFlag == 2 {
        // 나누기
        return number / conversionUnit
    }else {
        print("nil 반환하자.")
        return 0
    }
    
}


var printmoon = cutValue(userLine!)
print(printmoon)
var printResult = changeUnit(printmoon.number, printmoon.userUnit,printmoon.conversionUnit)
print("-------end------")

```

